Rewriting server code in C++11.

TODO:
- implement serverAction() in ParentServer
